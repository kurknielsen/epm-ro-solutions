CREATE OR REPLACE FUNCTION CUT_DATE_BETWEEN
	(
	p_CUT_DATE IN DATE,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_TIME_ZONE IN CHAR
	) RETURN CHAR IS
--Revision: $Revision: 1.15 $

--c	Answer 'Y' if a CUT date falls within the specified day dates; otherwise answer 'N''.

v_LOCAL_DATE DATE;

BEGIN

	v_LOCAL_DATE := FROM_CUT(p_CUT_DATE, p_TIME_ZONE);
	IF TO_CHAR(v_LOCAL_DATE,'HH24') = 0 THEN
		v_LOCAL_DATE := TRUNC(v_LOCAL_DATE) - 1;
	ELSE
		v_LOCAL_DATE := TRUNC(v_LOCAL_DATE);
	END IF;

	IF v_LOCAL_DATE BETWEEN NVL(p_BEGIN_DATE, LOW_DATE) AND NVL(p_END_DATE, HIGH_DATE) THEN
	    RETURN 'Y';
	ELSE
	    RETURN 'N';
	END IF;

END CUT_DATE_BETWEEN;
/

