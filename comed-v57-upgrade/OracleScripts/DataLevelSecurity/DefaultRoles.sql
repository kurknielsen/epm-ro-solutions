DECLARE

	--------------------------------------------
	PROCEDURE PUT_ROLE
		(
		p_ROLE_ID IN NUMBER,
		p_ROLE_NAME IN VARCHAR2
		) AS
    v_ROLE_ID NUMBER;
    BEGIN
		--Add the role or get the ID.		
        BEGIN
			SELECT ROLE_ID
			INTO v_ROLE_ID
			FROM APPLICATION_ROLE
			WHERE ROLE_NAME = p_ROLE_NAME;
		EXCEPTION
			WHEN NO_DATA_FOUND THEN
				
                INSERT INTO APPLICATION_ROLE (
        			ROLE_ID,
                	ROLE_NAME,
                    ROLE_ALIAS,
                    ROLE_DESC,
                    ENTRY_DATE)
                    VALUES (LTRIM(RTRIM(p_ROLE_ID)),
                    		LTRIM(RTRIM(p_ROLE_NAME)),
                    		LTRIM(RTRIM(p_ROLE_NAME)),
                            LTRIM(RTRIM(p_ROLE_NAME)),
                            SYSDATE);
        END;
		

	END PUT_ROLE;		
	--------------------------------------------

BEGIN --MAIN

	--Make sure the 'All Data' Realm exists
	BEGIN
		INSERT INTO SYSTEM_REALM (REALM_ID, REALM_NAME, REALM_ALIAS, REALM_DESC,
					ENTITY_DOMAIN_ID,REALM_CALC_TYPE,CUSTOM_QUERY, ENTRY_DATE)
			VALUES (SD.g_ALL_DATA_REALM_ID, 'All Data', 'All Data', 'Generated by RetailOffice.  Do not delete.',
				NULL, 0, NULL, SYSDATE);
	EXCEPTION
		WHEN DUP_VAL_ON_INDEX THEN
			NULL;
	END;
    
    -----------------------------------
	-- SUPER-USER
	-----------------------------------
	PUT_ROLE(SECURITY_CONTROLS.g_SUPER_USER_ROLE_ID,'Super-User');

    -----------------------------------
	-- ADMIN ROLE - View Only
	-----------------------------------
	PUT_ROLE(2,'Administrator');
    
    -----------------------------------
	-- READ-ONLY ROLE - View Only
	-----------------------------------    
	PUT_ROLE(3,'Read-Only');
    
    -----------------------------------
	-- USER ROLE - View and Update
	-----------------------------------
	PUT_ROLE(4,'User');
     
    -----------------------------------
	-- POWER-USER ROLE - View and Update
	-----------------------------------
	PUT_ROLE(5,'Power-User');

END; --MAIN
/
