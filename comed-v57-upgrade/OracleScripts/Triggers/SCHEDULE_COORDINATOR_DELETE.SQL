CREATE OR REPLACE TRIGGER SCHEDULE_COORDINATOR_DELETE
	AFTER DELETE ON SCHEDULE_COORDINATOR
	FOR EACH ROW
BEGIN
	DELETE TEMPORAL_ENTITY_ATTRIBUTE WHERE OWNER_ENTITY_ID = :old.SC_ID AND ATTRIBUTE_ID IN
		(SELECT A.ATTRIBUTE_ID FROM ENTITY_ATTRIBUTE A, ENTITY_DOMAIN B
		 WHERE UPPER(B.ENTITY_DOMAIN_TABLE_ALIAS) = 'SC' AND A.ENTITY_DOMAIN_ID = B.ENTITY_DOMAIN_ID);
	DELETE ENTITY_DOMAIN_CONTACT WHERE OWNER_ENTITY_ID = :old.SC_ID AND ENTITY_DOMAIN_ID IN
		(SELECT ENTITY_DOMAIN_ID FROM ENTITY_DOMAIN WHERE UPPER(ENTITY_DOMAIN_TABLE_ALIAS) = 'SC');
	DELETE ENTITY_DOMAIN_ADDRESS WHERE OWNER_ENTITY_ID = :old.SC_ID AND ENTITY_DOMAIN_ID IN
		(SELECT ENTITY_DOMAIN_ID FROM ENTITY_DOMAIN WHERE UPPER(ENTITY_DOMAIN_TABLE_ALIAS) = 'SC');
	UPDATE INTERCHANGE_TRANSACTION SET SC_ID = 0 WHERE SC_ID = :old.SC_ID;
END SCHEDULE_COORDINATOR_DELETE;
/
