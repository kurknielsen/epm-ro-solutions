CREATE OR REPLACE VIEW EXPORT_FORMATS_AND_DELIMITERS
	(
	MODULE, 
	FORMAT_NAME,
	FORMAT_POSITION,
	DELIM_NAME,
	DELIM, 
	DELIM_ASCII,
	IS_DEFAULT_FORMAT,
	PRINT_COLHDR,
	IS_DEFAULT_DELIM
	) AS
SELECT L.MODULE,
	L.VALUE,
	L.POSITION,
	L2.VALUE,
	D2.VALUE,
	ASCII(D2.VALUE),
	NVL(L.IS_DEFAULT,0),
	NVL(D.VALUE,0),
	NVL(L2.IS_DEFAULT,0)
FROM SYSTEM_LABEL L,
	SYSTEM_DICTIONARY D,
	SYSTEM_LABEL L2,
	SYSTEM_DICTIONARY D2  
WHERE UPPER(L.KEY1) = 'EXPORT_FORMAT'
	AND L.KEY2 = '?' AND L.KEY3 = '?'
	AND (NVL(L.IS_HIDDEN,0) = 0) 				-- get export formats
	AND UPPER(L2.MODULE(+)) = UPPER(L.MODULE)
	AND UPPER(L2.KEY1(+)) = UPPER('EXPORT_DELIM_'||L.VALUE)
	AND L2.KEY2(+) = '?' AND L2.KEY3(+) = '?' 	-- get delimiter name for export format
	AND UPPER(D.SETTING_NAME(+)) = UPPER(L.MODULE||'_EXPORT_COLHEADER_'||L.VALUE)
	AND D.MODULE(+) = '?' AND D.KEY1(+) = '?'
	AND D.KEY2(+) = '?' AND D.KEY3(+) = '?'		-- get column header from dictionary
	AND UPPER(D2.SETTING_NAME(+)) = UPPER('DELIMITER_'||L2.VALUE)
	AND D2.MODULE(+) = '?' AND D2.KEY1(+) = '?'		-- get delimiter value from dictionary
	AND D2.KEY2(+) = '?' AND D2.KEY3(+) = '?';


