CREATE OR REPLACE PACKAGE ACCOUNTS_METERS IS
-- $Revision: 1.33 $

-- Author  : PMANNING
-- Created : 10/29/2008 12:45:16 PM
-- Purpose :

c_ACCT_MODEL_OPTION_METER  CONSTANT VARCHAR2(32) := 'Meter';
c_ACCT_MODEL_OPTION_ACCOUNT  CONSTANT VARCHAR2(32) := 'Account';
c_ACCT_MODEL_OPTION_AGGREGATE  CONSTANT VARCHAR2(32) := 'Aggregate';

c_PRODUCT_TYPE_REVENUE CONSTANT VARCHAR2(32) := 'Revenue';
c_PRODUCT_TYPE_COST CONSTANT VARCHAR2(32) := 'Cost';
c_PRODUCT_TYPE_BILLING CONSTANT VARCHAR2(32) := 'Billing';

c_PRODUCT_TYPE_REV_ABBR CONSTANT CHAR(1) := 'R';
c_PRODUCT_TYPE_COST_ABBR CONSTANT CHAR(1) := 'C';
c_PRODUCT_TYPE_BILL_ABBR CONSTANT CHAR(1) := 'B';

c_CALENDAR_TYPE_FORECAST  CONSTANT VARCHAR2(32) := 'Forecast';
c_CALENDAR_TYPE_BACKCAST  CONSTANT VARCHAR2(32) := 'Backcast';
c_CALENDAR_TYPE_SETTLEMENT  CONSTANT VARCHAR2(32) := 'Settlement';
c_CALENDAR_TYPE_MONITOR  CONSTANT VARCHAR2(32) := 'Monitor';

c_AGGREGATION_GROUP_ENT_ATTR CONSTANT VARCHAR2(32) := 'Aggregation Group';

c_METER_TYPE_INTERVAL CONSTANT VARCHAR2(32) := 'Interval';
c_METER_TYPE_PERIOD CONSTANT VARCHAR2(32) := 'Period';

c_LOCALE_CATEGORY CONSTANT NUMBER(9) := 5;

g_SRVCE_LOC_USE_TRIGGER BOOLEAN := TRUE;

FUNCTION WHAT_VERSION RETURN VARCHAR2;

PROCEDURE SEARCH_ACCOUNTS
    (
    p_SEARCH_STRING IN VARCHAR2,
    p_SEARCH_OPTION IN VARCHAR2,
    p_SEARCH_OPTION_NAME OUT VARCHAR2,
    p_ACCOUNT_IDS OUT NUMBER_COLLECTION
    );

PROCEDURE ACCOUNT_LIST
	(
	p_SEARCH_STRING      IN VARCHAR,
	p_SEARCH_OPTION      IN VARCHAR,
	p_SEARCH_TYPE        IN NUMBER,
	p_FIND_ACCOUNT_ID    IN NUMBER,
	p_ACCOUNT_MODEL_OPTION IN VARCHAR2,
	p_SEARCH_OPTION_NAME OUT VARCHAR2,
	p_CURSOR             OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT
	(
	O_OID                          OUT NUMBER,
	p_ACCOUNT_NAME                 IN VARCHAR2,
	p_ACCOUNT_ALIAS                IN VARCHAR2,
	p_ACCOUNT_DESC                 IN VARCHAR2,
	p_ACCOUNT_ID                   IN NUMBER,
	p_ACCOUNT_DUNS_NUMBER          IN VARCHAR2,
	p_ACCOUNT_EXTERNAL_IDENTIFIER  IN VARCHAR2,
	p_ACCOUNT_MODEL_OPTION         IN VARCHAR2,
	p_ACCOUNT_SIC_CODE             IN VARCHAR2,
	p_ACCOUNT_METER_TYPE           IN VARCHAR2,
	p_ACCOUNT_METER_EXT_IDENTIFIER IN VARCHAR2,
	p_ACCOUNT_DISPLAY_NAME         IN VARCHAR2,
	p_ACCOUNT_BILL_OPTION          IN VARCHAR2,
	p_ACCOUNT_ROLLUP_ID            IN NUMBER,
	p_IS_EXTERNAL_INTERVAL_USAGE   IN NUMBER,
	p_IS_EXTERNAL_BILLED_USAGE     IN NUMBER,
	p_IS_AGGREGATE_ACCOUNT         IN NUMBER,
	p_IS_UFE_PARTICIPANT           IN NUMBER,
	p_IS_CREATE_SETTLEMENT_PROFILE IN NUMBER,
	p_IS_EXTERNAL_FORECAST         IN NUMBER,
    p_IS_SUB_AGGREGATE             IN NUMBER,
	p_TX_SERVICE_TYPE_ID           IN NUMBER,
	p_USE_TOU_USAGE_FACTOR         IN NUMBER,
	p_MODEL_ID					   IN NUMBER
	);

PROCEDURE GET_SERVICE_LOCATION
	(
	p_ACCOUNT_ID               IN NUMBER,
	p_SERVICE_LOCATION_ID      IN NUMBER,
	p_OLD_SL_BEGIN_DATE        IN DATE,
	p_SERVICE_LOCATION_NAME    OUT VARCHAR2,
	p_SERVICE_LOCATION_ALIAS   OUT VARCHAR2,
	p_SERVICE_LOCATION_DESC    OUT VARCHAR2,
	p_LATITUDE                 OUT VARCHAR2,
	p_LONGITUDE                OUT VARCHAR2,
	p_TIME_ZONE                OUT VARCHAR2,
	p_EXTERNAL_IDENTIFIER      OUT VARCHAR2,
	p_IS_EXTERNAL_BILLED_USAGE OUT NUMBER,
	p_IS_METER_ALLOCATION      OUT NUMBER,
	p_SERVICE_POINT_ID         OUT NUMBER,
	p_SERVICE_POINT_DISP       OUT VARCHAR2,
	p_WEATHER_STATION_ID       OUT NUMBER,
	p_WEATHER_STATION_DISP     OUT VARCHAR2,
	p_BUSINESS_ROLLUP_ID       OUT NUMBER,
	p_GEOGRAPHIC_ROLLUP_ID     OUT NUMBER,
	p_SL_BEGIN_DATE            OUT DATE,
	p_SL_END_DATE              OUT DATE,
	p_EDC_IDENTIFIER           OUT VARCHAR2,
	p_ESP_IDENTIFIER           OUT VARCHAR2,
	p_STREET                   OUT VARCHAR2,
	p_STREET2                  OUT VARCHAR2,
	p_CITY                     OUT VARCHAR2,
	p_STATE_CODE               OUT VARCHAR2,
	p_POSTAL_CODE              OUT VARCHAR2,
	p_COUNTRY_CODE             OUT VARCHAR2,
	p_SQUARE_FOOTAGE           OUT NUMBER,
	p_ANNUAL_CONSUMPTION       OUT NUMBER,
	p_SUMMER_CONSUMPTION       OUT NUMBER,
	p_SERVICE_ZONE_ID          OUT NUMBER,
	p_SERVICE_ZONE_DISP        OUT VARCHAR2,
	p_SUB_STATION_ID           OUT NUMBER,
	p_SUB_STATION_DISP         OUT VARCHAR2,
	p_FEEDER_ID                OUT NUMBER,
	p_FEEDER_DISP              OUT VARCHAR2,
	p_FEEDER_SEGMENT_ID        OUT NUMBER,
	p_FEEDER_SEGMENT_DISP      OUT VARCHAR2
	);

PROCEDURE PUT_SERVICE_LOCATION
	(
	O_OID                      OUT NUMBER,
	p_ACCOUNT_ID               IN NUMBER,
	p_OLD_SL_BEGIN_DATE        IN DATE,
	p_SL_BEGIN_DATE            IN DATE,
	p_SL_END_DATE              IN DATE,
	p_EDC_IDENTIFIER           IN VARCHAR2,
	p_ESP_IDENTIFIER           IN VARCHAR2,
	p_SERVICE_LOCATION_NAME    IN VARCHAR2,
	p_SERVICE_LOCATION_ALIAS   IN VARCHAR2,
	p_SERVICE_LOCATION_DESC    IN VARCHAR2,
	p_SERVICE_LOCATION_ID      IN NUMBER,
	p_LATITUDE                 IN VARCHAR2,
	p_LONGITUDE                IN VARCHAR2,
	p_TIME_ZONE                IN VARCHAR2,
	p_EXTERNAL_IDENTIFIER      IN VARCHAR2,
	p_SERVICE_POINT_ID         IN NUMBER,
	p_WEATHER_STATION_ID       IN NUMBER,
	p_STREET                   IN VARCHAR2,
	p_STREET2                  IN VARCHAR2,
	p_CITY                     IN VARCHAR2,
	p_STATE_CODE               IN VARCHAR2,
	p_POSTAL_CODE              IN VARCHAR2,
	p_COUNTRY_CODE             IN VARCHAR2,
	p_SQUARE_FOOTAGE           IN NUMBER,
	p_ANNUAL_CONSUMPTION       IN NUMBER,
	p_SUMMER_CONSUMPTION       IN NUMBER,
	p_SERVICE_ZONE_ID          IN NUMBER,
	p_SUB_STATION_ID           IN NUMBER,
	p_FEEDER_ID                IN NUMBER,
	p_FEEDER_SEGMENT_ID        IN NUMBER,
	p_MESSAGE				   OUT VARCHAR2
	);

PROCEDURE SL_SERVICE_POINT_LIST
	(
	p_SERVICE_ZONE_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE SL_SUB_STATION_LIST
	(
	p_SERVICE_ZONE_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE SL_FEEDER_LIST
	(
	p_SERVICE_ZONE_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SUB_STATION_ID IN NUMBER,
	p_SEARCH_STRING IN VARCHAR,
	p_SEARCH_OPTION IN VARCHAR,
	p_SEARCH_TYPE IN NUMBER,
	p_FIND_VALUE IN VARCHAR2,
	p_INCLUDE_INACTIVE IN NUMBER,
    p_HIDE_NOT_ASSIGNED IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE SL_FEEDER_SEGMENT_LIST
	(
	p_SERVICE_ZONE_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SUB_STATION_ID IN NUMBER,
	p_FEEDER_ID IN NUMBER,
	p_SEARCH_STRING IN VARCHAR,
	p_SEARCH_OPTION IN VARCHAR,
	p_SEARCH_TYPE IN NUMBER,
	p_FIND_VALUE IN VARCHAR2,
	p_INCLUDE_INACTIVE IN NUMBER,
    p_HIDE_NOT_ASSIGNED IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE SERVICE_LOCATION_LIST
	(
	p_ACCOUNT_ID IN NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE   IN DATE,
	p_SEARCH_STRING      IN VARCHAR,
	p_SEARCH_OPTION      IN VARCHAR,
	p_SEARCH_TYPE        IN NUMBER,
	p_FIND_SERVICE_LOCATION_ID    IN NUMBER,
	p_SEARCH_OPTION_NAME OUT VARCHAR2,
	p_SEARCH_OPTION_NAME_2 OUT VARCHAR2,
	p_CURSOR     IN OUT GA.REFCURSOR
	);

PROCEDURE METER_LIST
	(
	p_ACCOUNT_ID IN NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE   IN DATE,
	p_SEARCH_STRING      IN VARCHAR,
	p_SEARCH_OPTION      IN VARCHAR,
	p_SEARCH_TYPE        IN NUMBER,
	p_FIND_METER_ID    IN NUMBER,
	p_SEARCH_OPTION_NAME OUT VARCHAR2,
	p_CURSOR     IN OUT GA.REFCURSOR
	);

PROCEDURE SEARCH
	(
	p_BEGIN_DATE         IN DATE,
	p_END_DATE           IN DATE,
	p_SEARCH_STRING      IN VARCHAR,
	p_SEARCH_OPTION      IN VARCHAR,
	p_SEARCH_OPTION_NAME OUT VARCHAR,
	p_SEARCH_OPTION_NAME_2 OUT VARCHAR2,
	p_CURSOR             OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_GROUP_ASSIGNMENTS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_GROUP_ASSIGNMENT
	(
	p_ACCOUNT_ID              IN NUMBER,
	p_ACCOUNT_GROUP_ID        IN NUMBER,
	p_ASSIGNMENT_CATEGORY     IN VARCHAR2,
	p_OLD_ACCOUNT_GROUP_ID    IN NUMBER,
	p_OLD_ASSIGNMENT_CATEGORY IN VARCHAR2
	);

PROCEDURE REMOVE_ACCOUNT_GROUP_ASSIGNMT

	(
	p_ACCOUNT_ID          IN NUMBER,
	p_ACCOUNT_GROUP_ID    IN NUMBER,
	p_ASSIGNMENT_CATEGORY IN VARCHAR2
	);

PROCEDURE ACCOUNT_STATUS_LIST(p_CURSOR OUT GA.REFCURSOR);

FUNCTION IS_ACCOUNT_STATUS_ACTIVE(p_STATUS_NAME IN VARCHAR2) RETURN NUMBER;

PROCEDURE ACCOUNT_STATUSES
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_STATUS
	(
	p_ACCOUNT_ID     IN NUMBER,
	p_BEGIN_DATE     IN DATE,
	p_END_DATE       IN DATE,
	p_STATUS_NAME    IN VARCHAR2,
	p_OLD_BEGIN_DATE IN DATE
	);

PROCEDURE REMOVE_ACCOUNT_STATUS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE EDC_RATE_CLASSES
	(
	p_EDC_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_EDCS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_EDC
	(
	p_ACCOUNT_ID         IN NUMBER,
	p_EDC_ID             IN NUMBER,
	p_BEGIN_DATE         IN DATE,
	p_EDC_ACCOUNT_NUMBER IN VARCHAR2,
	p_EDC_RATE_CLASS     IN VARCHAR2,
	p_EDC_STRATA         IN VARCHAR2,
	p_END_DATE           IN DATE,
	p_OLD_EDC_ID         IN NUMBER,
	p_OLD_BEGIN_DATE     IN DATE
	);

PROCEDURE REMOVE_ACCOUNT_EDC
	(
	p_ACCOUNT_ID IN NUMBER,
	p_EDC_ID     IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE ACCOUNT_ESPS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_ESP
	(
	p_ACCOUNT_ID         IN NUMBER,
	p_ESP_ID             IN NUMBER,
	p_POOL_ID            IN NUMBER,
	p_BEGIN_DATE         IN DATE,
	p_END_DATE           IN DATE,
	p_ESP_ACCOUNT_NUMBER IN VARCHAR2,
	p_OLD_ESP_ID         IN NUMBER,
	p_OLD_POOL_ID        IN NUMBER,
	p_OLD_BEGIN_DATE     IN DATE
	);

PROCEDURE REMOVE_ACCOUNT_ESP
	(
	p_ACCOUNT_ID IN NUMBER,
	p_ESP_ID     IN NUMBER,
	p_POOL_ID    IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE AGGREGATE_ACCOUNT_ESPS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_AGGREGATE_ACCOUNT_ESP
	(
	p_ACCOUNT_ID     IN NUMBER,
	p_ESP_ID         IN NUMBER,
	p_POOL_ID        IN NUMBER,
	p_AGG_BEGIN_DATE IN DATE,
	p_AGG_END_DATE   IN DATE,
	p_OLD_ESP_ID     IN NUMBER,
	p_OLD_POOL_ID    IN NUMBER,
	p_OLD_AGG_BEGIN_DATE IN DATE
	);

PROCEDURE REMOVE_AGGREGATE_ACCOUNT_ESP
	(
	p_ACCOUNT_ID IN NUMBER,
	p_ESP_ID     IN NUMBER,
	p_POOL_ID    IN NUMBER,
	p_AGG_BEGIN_DATE IN DATE
	);

PROCEDURE ACCOUNT_SERVICE_LOCATIONS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_SERVICE_LOCATION
	(
	p_ACCOUNT_ID              IN NUMBER,
	p_SERVICE_LOCATION_ID     IN NUMBER,
	p_SERVICE_LOCATION_NAME   IN VARCHAR2,
	p_SERVICE_LOCATION_ALIAS  IN VARCHAR2,
	p_SERVICE_LOCATION_DESC   IN VARCHAR2,
	p_BEGIN_DATE              IN DATE,
	p_END_DATE                IN DATE,
	p_EDC_IDENTIFIER          IN VARCHAR2,
	p_ESP_IDENTIFIER          IN VARCHAR2,
	p_LATITUDE                IN VARCHAR2,
	p_LONGITUDE               IN VARCHAR2,
	p_TIME_ZONE               IN VARCHAR2,
	p_EXTERNAL_IDENTIFIER     IN VARCHAR2,
	p_SERVICE_POINT_ID        IN NUMBER,
	p_WEATHER_STATION_ID      IN NUMBER,
	p_STREET                  IN VARCHAR2,
	p_STREET2                 IN VARCHAR2,
	p_CITY                    IN VARCHAR2,
	p_STATE_CODE              IN VARCHAR2,
	p_POSTAL_CODE             IN VARCHAR2,
	p_COUNTRY_CODE            IN VARCHAR2,
	p_SQUARE_FOOTAGE          IN NUMBER,
	p_ANNUAL_CONSUMPTION      IN NUMBER,
	p_SUMMER_CONSUMPTION      IN NUMBER,
	p_SERVICE_ZONE_ID         IN NUMBER,
	p_SUB_STATION_ID          IN NUMBER,
	p_FEEDER_ID               IN NUMBER,
	p_FEEDER_SEGMENT_ID       IN NUMBER,
	p_OLD_BEGIN_DATE          IN DATE,
	p_MESSAGE				  OUT VARCHAR2
	);

PROCEDURE REMOVE_ACCOUNT_SERVICE_LOC
	(
	p_ACCOUNT_ID          IN NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_BEGIN_DATE          IN DATE
	);

PROCEDURE ACCOUNT_METERS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_METER
	(
	p_ACCOUNT_ID IN NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_OLD_METER_BEGIN_DATE IN DATE,
	p_MRSP_ID IN NUMBER,
	p_METER_NAME IN VARCHAR2,
	p_METER_ALIAS IN VARCHAR2,
	p_METER_DESC IN VARCHAR2,
	p_METER_ID IN NUMBER,
	p_METER_EXTERNAL_IDENTIFIER IN VARCHAR2,
	p_METER_STATUS IN VARCHAR2,
	p_METER_INTERVAL IN VARCHAR2,
	p_METER_TYPE IN VARCHAR2,
	p_METER_UNIT IN VARCHAR2,
	p_IS_EXTERNAL_INTERVAL_USAGE IN NUMBER,
	p_IS_EXTERNAL_BILLED_USAGE IN NUMBER,
	p_IS_EXTERNAL_FORECAST IN NUMBER,
	p_METER_BEGIN_DATE IN DATE,
	p_METER_END_DATE IN DATE,
	p_IS_ESTIMATED_END_DATE IN NUMBER,
	p_NEXT_ACTION_DATE IN DATE,
	p_EDC_IDENTIFIER IN VARCHAR2,
	p_ESP_IDENTIFIER IN VARCHAR2,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_USE_TOU_USAGE_FACTOR IN NUMBER,
	p_OLD_SERVICE_LOCATION_ID IN NUMBER
	);

PROCEDURE REMOVE_ACCOUNT_METER
	(
	p_ACCOUNT_ID          IN NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_METER_ID            IN NUMBER,
	p_METER_BEGIN_DATE    IN DATE
	);

PROCEDURE ACCOUNT_CALENDARS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_CALENDAR
	(
	p_ACCOUNT_ID        IN NUMBER,
	p_CASE_ID           IN NUMBER,
	p_CALENDAR_TYPE     IN VARCHAR2,
	p_BEGIN_DATE        IN DATE,
	p_END_DATE          IN DATE,
	p_CALENDAR_ID       IN NUMBER,
	p_OLD_CASE_ID       IN NUMBER,
	p_OLD_CALENDAR_TYPE IN VARCHAR2,
	p_OLD_BEGIN_DATE    IN DATE
	);

PROCEDURE REMOVE_ACCOUNT_CALENDAR
	(
	p_CASE_ID       IN NUMBER,
	p_ACCOUNT_ID    IN NUMBER,
	p_CALENDAR_TYPE IN VARCHAR2,
	p_BEGIN_DATE    IN DATE
	);

PROCEDURE METER_CHANNELS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_CHANNEL
    (
	o_OID OUT NUMBER,
	p_METER_ID IN NUMBER,
    p_METER_POINT_ID IN NUMBER,
    p_METER_POINT_NAME IN VARCHAR2,
    p_METER_POINT_DESC IN VARCHAR2,
    p_UOM IN VARCHAR2,
    p_OPERATION_CODE IN VARCHAR2,
    p_METER_POINT_INTERVAL IN VARCHAR2
    );

PROCEDURE REMOVE_METER_CHANNEL
    (
    p_METER_POINT_ID IN NUMBER
    );

PROCEDURE ACCOUNT_LOSS_FACTORS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_LOSS_FACTOR
	(
	p_ACCOUNT_ID     IN NUMBER,
	p_CASE_ID        IN NUMBER,
	p_LOSS_FACTOR_ID IN NUMBER,
	p_BEGIN_DATE     IN DATE,
	p_END_DATE       IN DATE,
	p_OLD_CASE_ID    IN NUMBER,
	p_OLD_BEGIN_DATE IN DATE
	);

PROCEDURE REMOVE_ACCOUNT_LOSS_FACTOR
	(
	p_CASE_ID    IN NUMBER,
	p_ACCOUNT_ID IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE ACCOUNT_USAGE_FACTORS
    (
	p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_USAGE_FACTOR
    (
    p_CASE_ID IN NUMBER,
    p_ACCOUNT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_FACTOR_VAL IN NUMBER,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_USAGE_FACTOR
    (
    p_CASE_ID IN NUMBER,
    p_ACCOUNT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE ACCOUNT_PROGRAMS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_PROGRAM
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_PROGRAM_ID IN NUMBER,
    p_SLP_BEGIN_DATE IN DATE,
    p_SLP_END_DATE IN DATE,
    p_AUTO_ENROLL IN NUMBER,
	p_OLD_SERVICE_LOCATION_ID IN NUMBER,
    p_OLD_PROGRAM_ID IN NUMBER,
    p_OLD_SLP_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_PROGRAM
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_PROGRAM_ID IN NUMBER,
    p_SLP_BEGIN_DATE IN DATE
    );

PROCEDURE ACCOUNT_SERVICE_LOCATION_LIST
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

FUNCTION GET_ENROLLED_DER
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
	p_PROGRAM_ID IN NUMBER,
	p_SLP_BEGIN_DATE IN DATE,
	p_SLP_END_DATE IN DATE
    ) RETURN VARCHAR2;

PROCEDURE ACCOUNT_GROWTH_PATTERNS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_ACCOUNT_GROWTH_PATTERN
	(
	p_CASE_ID            IN NUMBER,
	p_ACCOUNT_ID         IN NUMBER,
	p_BEGIN_DATE         IN DATE,
	p_END_DATE           IN DATE,
	p_PATTERN_ID         IN NUMBER,
	p_GROWTH_PCT         IN NUMBER,
	p_OLD_CASE_ID        IN NUMBER,
	p_OLD_BEGIN_DATE     IN DATE
	);

PROCEDURE REMOVE_ACCOUNT_GROWTH_PATTERN
	(
	p_CASE_ID    IN NUMBER,
	p_ACCOUNT_ID IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE AGG_ACCOUNT_GROWTH_PATTERNS
	(
	p_AGGREGATE_ID IN NUMBER,
	p_ACCOUNT_NAME OUT VARCHAR2,
	p_ESP_NAME     OUT VARCHAR2,
	p_POOL_NAME    OUT VARCHAR2,
	p_CURSOR       OUT GA.REFCURSOR
	);

PROCEDURE PUT_AGG_ACCOUNT_GROWTH_PATTERN
	(
	p_CASE_ID            IN NUMBER,
	p_AGGREGATE_ID       IN NUMBER,
	p_BEGIN_DATE         IN DATE,
	p_END_DATE           IN DATE,
	p_SERVICE_ACCOUNTS   IN NUMBER,
	p_PATTERN_ID         IN NUMBER,
	p_GROWTH_PCT         IN NUMBER,
	p_OLD_CASE_ID        IN NUMBER,
	p_OLD_BEGIN_DATE     IN DATE
	);

PROCEDURE REMOVE_AGG_ACCT_GROWTH_PATTERN
	(
	p_CASE_ID    IN NUMBER,
	p_AGGREGATE_ID IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE ACCOUNT_SCHEDULE_GROUPS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_SCHEDULE_GROUP
    (
    p_ACCOUNT_ID IN NUMBER,
    p_SCHEDULE_GROUP_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_SCHEDULE_GROUP
    (
    p_ACCOUNT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE ACCOUNT_ANCILLARY_SERVICES
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_ANCILLARY_SERVICE
    (
    p_ACCOUNT_ID IN NUMBER,
    p_ANCILLARY_SERVICE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_SERVICE_VAL IN NUMBER,
    p_OLD_ANCILLARY_SERVICE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_ANCILLARY_SERV
    (
    p_ACCOUNT_ID IN NUMBER,
    p_ANCILLARY_SERVICE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE ACCT_ANC_SVC_SUBDAILY
    (
    P_ACCOUNT_ID IN NUMBER,
    p_TIME_ZONE IN VARCHAR,
    P_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCT_ANC_SVC_SUBDAILY
    (
    p_ACCOUNT_ID IN NUMBER,
    p_ANCILLARY_SERVICE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    P_SERVICE_VAL IN NUMBER,
    p_TIME_ZONE IN VARCHAR,
    p_OLD_ANCILLARY_SERVICE_ID IN NUMBER,
    P_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REM_ACCT_ANC_SVC_SUBDAILY
    (
    p_ACCOUNT_ID IN NUMBER,
    p_ANCILLARY_SERVICE_ID IN NUMBER,
    P_BEGIN_DATE IN DATE,
    p_TIME_ZONE IN VARCHAR
    );

PROCEDURE ACCOUNT_PRODUCTS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_PRODUCT
    (
    p_CASE_ID IN NUMBER,
    p_ACCOUNT_ID IN NUMBER,
    p_PRODUCT_ID IN NUMBER,
    p_PRODUCT_TYPE IN CHAR,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_PRODUCT_TYPE IN CHAR,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_PRODUCT
    (
    p_CASE_ID IN NUMBER,
    p_ACCOUNT_ID IN NUMBER,
    p_PRODUCT_TYPE IN CHAR,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE ACCOUNT_BILL_CYCLES
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_BILL_CYCLE
    (
    p_ACCOUNT_ID IN NUMBER,
    p_BILL_CYCLE_ID IN NUMBER,
    p_BILL_CYCLE_ENTITY IN VARCHAR2,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_BILL_CYCLE
    (
    p_ACCOUNT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE ACCOUNT_CONTRACTS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCOUNT_CONTRACT
    (
    p_CONTRACT_ID IN NUMBER,
    p_ACCOUNT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_CONTRACT_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_ACCOUNT_CONTRACT
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CONTRACT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE ACCOUNT_DERS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

FUNCTION GET_ENROLLED_PROGRAMS
    (
    p_DER_ID IN NUMBER
    ) RETURN VARCHAR2;

PROCEDURE SERVICE_LOCATION_MRSPS
    (
	p_SERVICE_LOCATION_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_SERVICE_LOCATION_MRSP
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_MRSP_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_MRSP_ACCOUNT_NUMBER IN VARCHAR2,
    p_METER_READ_CYCLE IN VARCHAR2,
    p_OLD_MRSP_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_SERVICE_LOCATION_MRSP
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_MRSP_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE SERVICE_LOCATION_ACCOUNTS
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_SERVICE_LOCATION_ACCOUNT
    (
    p_SL_ACCOUNT_ID IN NUMBER,
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_EDC_IDENTIFIER IN VARCHAR2,
    p_ESP_IDENTIFIER IN VARCHAR2,
    p_OLD_ACCOUNT_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_SRVC_LOC_ACCOUNT
    (
    p_SL_ACCOUNT_ID IN NUMBER,
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE SERVICE_LOCATION_DERS
    (
    p_SERVICE_LOCATION_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE COPY_ENTITY
	(
	p_ENTITY_TYPE IN VARCHAR2,
	p_OLD_ACCOUNT_ID IN NUMBER,
	p_ACCOUNT_ID  IN NUMBER,
	p_OLD_SERVICE_LOCATION_ID IN NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_METER_ID IN NUMBER,
	p_DER_ID IN NUMBER,
	p_SL_BEGIN_DATE IN DATE,
	p_METER_BEGIN_DATE IN DATE,
	p_NEW_ENTITY_ID OUT NUMBER
	);

PROCEDURE DELETE_ENTITY
	(
	p_ENTITY_TYPE IN VARCHAR2,
	p_ACCOUNT_ID IN NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_METER_ID IN NUMBER,
	p_DER_ID IN NUMBER,
	p_SL_BEGIN_DATE IN DATE,
	p_METER_BEGIN_DATE IN DATE
	);

PROCEDURE GET_METER
	(
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_METER_OLD_BEGIN_DATE IN DATE,
	p_METER_ID IN NUMBER, -- Meter parameters
	p_MRSP_ID OUT NUMBER,
	p_METER_NAME OUT VARCHAR2,
	p_METER_ALIAS OUT VARCHAR2,
	p_METER_DESC OUT VARCHAR2,
	p_METER_EXTERNAL_IDENTIFIER OUT VARCHAR2,
	p_METER_STATUS OUT VARCHAR2,
	p_METER_INTERVAL OUT VARCHAR2,
	p_METER_TYPE OUT VARCHAR2,
	p_METER_UNIT OUT VARCHAR2,
	p_IS_EXTERNAL_INTERVAL_USAGE OUT NUMBER,
	p_IS_EXTERNAL_BILLED_USAGE OUT NUMBER,
	p_IS_EXTERNAL_FORECAST OUT NUMBER,
	p_METER_BEGIN_DATE OUT DATE, -- Service Location Meter parameters
	p_METER_END_DATE OUT DATE,
	p_IS_ESTIMATED_END_DATE OUT NUMBER,
	p_NEXT_ACTION_DATE OUT DATE,
	p_EDC_IDENTIFIER OUT VARCHAR2,
	p_ESP_IDENTIFIER OUT VARCHAR2,
	p_EDC_RATE_CLASS OUT VARCHAR2,
	p_USE_TOU_USAGE_FACTOR OUT NUMBER
	);

PROCEDURE PUT_METER
	(
	o_OID OUT NUMBER,
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_METER_OLD_BEGIN_DATE IN DATE,
	p_MRSP_ID IN NUMBER, -- Meter parameters
	p_METER_NAME IN VARCHAR2,
	p_METER_ALIAS IN VARCHAR2,
	p_METER_DESC IN VARCHAR2,
	p_METER_ID IN NUMBER,
	p_METER_EXTERNAL_IDENTIFIER IN VARCHAR2,
	p_METER_STATUS IN VARCHAR2,
	p_METER_INTERVAL IN VARCHAR2,
	p_METER_TYPE IN VARCHAR2,
	p_METER_UNIT IN VARCHAR2,
	p_IS_EXTERNAL_INTERVAL_USAGE IN NUMBER,
	p_IS_EXTERNAL_BILLED_USAGE IN NUMBER,
	p_IS_EXTERNAL_FORECAST IN NUMBER,
	p_METER_BEGIN_DATE IN DATE, -- Service Location Meter parameters
	p_METER_END_DATE IN DATE,
	p_IS_ESTIMATED_END_DATE IN NUMBER,
	p_NEXT_ACTION_DATE IN DATE,
	p_EDC_IDENTIFIER IN VARCHAR2,
	p_ESP_IDENTIFIER IN VARCHAR2,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_USE_TOU_USAGE_FACTOR IN NUMBER
	);

PROCEDURE METER_CALENDARS
    (
	p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_CALENDAR
    (
    p_METER_ID IN NUMBER,
	p_CASE_ID IN NUMBER,
    p_CALENDAR_ID IN NUMBER,
    p_CALENDAR_TYPE IN VARCHAR2,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_CALENDAR_TYPE IN VARCHAR2,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_CALENDAR
    (
    p_CASE_ID IN NUMBER,
    p_METER_ID IN NUMBER,
    p_CALENDAR_TYPE IN VARCHAR2,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_LOSS_FACTORS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_LOSS_FACTOR
    (
    p_METER_ID IN NUMBER,
	p_CASE_ID IN NUMBER,
    p_LOSS_FACTOR_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_LOSS_FACTOR
    (
    p_CASE_ID IN NUMBER,
    p_METER_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_USAGE_FACTORS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_USAGE_FACTOR
    (
    p_METER_ID IN NUMBER,
    p_CASE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_FACTOR_VAL IN NUMBER,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_USAGE_FACTOR
    (
    p_CASE_ID IN NUMBER,
    p_METER_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_GROWTH_PATTERNS
	(
	p_METER_ID   IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR
	);

PROCEDURE PUT_METER_GROWTH_PATTERN
	(
	p_CASE_ID            IN NUMBER,
	p_METER_ID           IN NUMBER,
	p_BEGIN_DATE         IN DATE,
	p_END_DATE           IN DATE,
	p_PATTERN_ID         IN NUMBER,
	p_GROWTH_PCT         IN NUMBER,
	p_OLD_CASE_ID        IN NUMBER,
	p_OLD_BEGIN_DATE     IN DATE
	);

PROCEDURE REMOVE_METER_GROWTH_PATTERN
	(
	p_CASE_ID    IN NUMBER,
	p_METER_ID   IN NUMBER,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE METER_SCHEDULE_GROUPS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_SCHEDULE_GROUP
    (
    p_METER_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_SCHEDULE_GROUP_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_SCHEDULE_GROUP
    (
    p_METER_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_ANCILLARY_SERVICES
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_ANCILLARY_SERVICE
    (
    p_METER_ID IN NUMBER,
    p_ANCILLARY_SERVICE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_SERVICE_VAL IN NUMBER,
    p_OLD_ANCILLARY_SERVICE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_ANCILLARY_SERVICE
    (
    p_METER_ID IN NUMBER,
    p_ANCILLARY_SERVICE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_PRODUCTS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_PRODUCT
    (
	p_METER_ID IN NUMBER,
    p_CASE_ID IN NUMBER,
    p_PRODUCT_ID IN NUMBER,
    p_PRODUCT_TYPE IN CHAR,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_PRODUCT_TYPE IN CHAR,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_PRODUCT
    (
    p_CASE_ID IN NUMBER,
    p_METER_ID IN NUMBER,
    p_PRODUCT_TYPE IN CHAR,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_BILL_CYCLES
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_BILL_CYCLE
    (
    p_METER_ID IN NUMBER,
    p_BILL_CYCLE_ID IN NUMBER,
    p_BILL_CYCLE_ENTITY IN VARCHAR2,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_BILL_CYCLE
    (
    p_METER_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE PROGRAM_DERS
    (
	p_SERVICE_LOCATION_ID IN NUMBER,
    p_PROGRAM_ID IN NUMBER,
	p_SLP_BEGIN_DATE IN DATE,
	p_SLP_END_DATE IN DATE,
	p_ENROLLMENT_PERIOD OUT VARCHAR2,
	p_PROGRAM_NAME OUT VARCHAR2,
	p_DER_TYPES OUT VARCHAR2,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_PROGRAM_DER
    (
    p_DER_ID IN NUMBER,
    p_PROGRAM_ID IN NUMBER,
    p_DP_BEGIN_DATE IN DATE,
	p_DP_END_DATE IN DATE,
	p_SLP_BEGIN_DATE IN DATE,
	p_SLP_END_DATE IN DATE,
	p_COUNT IN NUMBER,
    p_OLD_DER_ID IN NUMBER,
	p_OLD_DP_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_PROGRAM_DER
    (
    p_DER_ID IN NUMBER,
    p_DP_BEGIN_DATE IN DATE
    );

PROCEDURE PROGRAM_DER_LIST
    (
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_PROGRAM_ID IN NUMBER,
	p_SLP_BEGIN_DATE IN DATE,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE GET_TYPE_FOR_DER
    (
	p_DER_ID IN NUMBER,
	p_DER_TYPE_NAME OUT VARCHAR2
	);

PROCEDURE DER_PROGRAMS
    (
    p_DER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_DER_PROGRAM
    (
    p_DER_ID IN NUMBER,
    p_PROGRAM_ID IN NUMBER,
    p_DP_BEGIN_DATE IN DATE,
	p_DP_END_DATE IN DATE,
	p_COUNT IN NUMBER,
    p_OLD_DP_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_DER_PROGRAM
    (
    p_DER_ID IN NUMBER,
    p_DP_BEGIN_DATE IN DATE
    );

PROCEDURE PROGRAM_FOR_DER_LIST
	(
	p_DER_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE DER_ENROLLMENT_PERIOD_LIST
	(
	p_DER_ID IN NUMBER,
	p_PROGRAM_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);
--************************************************************************
-- Reports
--************************************************************************
PROCEDURE EDC_RATE_CLASS_LIST
	(
	p_EDC_ID ENERGY_DISTRIBUTION_COMPANY.EDC_ID%TYPE,
	p_CURSOR IN OUT GA.REFCURSOR
	);

PROCEDURE RATE_CLASS_LIST
	(
	p_ACCOUNT_ID NUMBER,
	p_BEGIN_DATE DATE,
	p_END_DATE DATE,
	p_CURSOR IN OUT GA.REFCURSOR
	);

PROCEDURE ACTIVE_ACCOUNT_LIST
	(
    p_EFFECTIVE_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_ACCOUNT_STATUSES
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_CALENDARS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_ACCOUNT_EDCS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_ACCOUNT_ESPS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_ACCOUNT_SERV_LOCS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_LOSS_FACTORS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_SCHEDULE_GROUPS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_PROP_PRODUCTS
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EDC_ID IN NUMBER,
	p_EDC_RATE_CLASS IN VARCHAR2,
	p_ESP_ID IN NUMBER,
	p_POOL_ID IN NUMBER,
	p_SERVICE_POINT_ID IN NUMBER,
	p_SCHEDULE_GROUP_ID IN NUMBER,
   	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE SL_CHILD_FOLDERS
	(
	p_ACCOUNT_ID	IN NUMBER,
	p_SHOW_METERS	IN VARCHAR2,
	p_SHOW_RESOURCES IN VARCHAR2,
	p_CURSOR		OUT GA.REFCURSOR
	);

PROCEDURE DER_LIST
	(
	p_SERVICE_LOCATION_ID IN NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE   IN DATE,
	p_SEARCH_STRING      IN VARCHAR,
	p_SEARCH_OPTION      IN VARCHAR,
	p_SEARCH_TYPE        IN NUMBER,
	p_FIND_DER_ID        IN NUMBER,
	p_SEARCH_OPTION_NAME OUT VARCHAR2,
	p_CURSOR     IN OUT GA.REFCURSOR
	);

PROCEDURE GET_DER
	(
	p_DER_ID IN NUMBER,
	p_DER_NAME OUT VARCHAR2,
	p_DER_ALIAS OUT VARCHAR2,
	p_DER_DESC OUT VARCHAR2,
	p_EXTERNAL_IDENTIFIER OUT VARCHAR2,
	p_DER_TYPE_ID OUT NUMBER,
	p_DER_TYPE_DISP OUT VARCHAR2,
	p_EXTERNAL_SYSTEM_ID OUT NUMBER,
	p_EXTERNAL_SYSTEM_DISP OUT VARCHAR2,
	p_BEGIN_DATE OUT DATE,
	p_END_DATE OUT DATE,
	p_SERIAL_NUMBER OUT VARCHAR2,
	p_LAST_CALLED OUT DATE,
	p_LAST_STATUS OUT VARCHAR2
	);

PROCEDURE GET_DER_HISTORY
	(
	p_DER_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE GET_PATH_FOR_SERVICE_LOCATION
	(
	p_ACCOUNT_ID IN OUT NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_SERVICE_LOCATION_ID IN NUMBER
	);

PROCEDURE GET_PATH_FOR_METER
	(
	p_ACCOUNT_ID OUT NUMBER,
	p_SERVICE_LOCATION_ID IN OUT NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_METER_ID IN NUMBER
	);

PROCEDURE GET_PATH_FOR_DER
	(
	p_ACCOUNT_ID OUT NUMBER,
	p_SERVICE_LOCATION_ID IN OUT NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_DER_ID IN NUMBER
	);

PROCEDURE ACCOUNT_EVENT_HISTORY
	(
	p_ACCOUNT_ID IN NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_TIME_ZONE IN VARCHAR2,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE AGG_ANCILLARY_SERVICE_VALS
	(
	p_AGGREGATE_ID IN NUMBER,
	p_BEGIN_DATE DATE,
	p_END_DATE IN DATE,
	p_TIME_ZONE IN VARCHAR2,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE PUT_AGG_ANC_SVC_VAL
	(
	p_AGGREGATE_ID IN NUMBER,
	p_ANCILLARY_SERVICE_ID IN NUMBER,
	p_SERVICE_DATE IN DATE,
	p_SERVICE_VAL IN NUMBER
	);

PROCEDURE REMOVE_AGG_ANC_SVC_VAL
	(
	p_AGGREGATE_ID IN NUMBER,
	p_ANCILLARY_SERVICE_ID IN NUMBER,
	p_SERVICE_DATE IN DATE
	);

FUNCTION GET_TOU_USAGE_DETAILS
	(
	p_TOU_USAGE_FACTOR_ID IN NUMBER,
	p_IS_ACCOUNT IN NUMBER
	) RETURN VARCHAR2;

PROCEDURE REMOVE_ACCOUNT_TOU_USG_FACTOR
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CASE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE PUT_ACCOUNT_TOU_USAGE_FACTOR
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CASE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_TEMPLATE_ID IN NUMBER,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

FUNCTION INSERT_ACC_TOU_USAGE_FACTOR
	(
	p_BEGIN_DATE	IN DATE,
	p_END_DATE		IN DATE,
	p_ACCOUNT_ID	IN NUMBER,
	p_TEMPLATE_ID	IN NUMBER
	) RETURN NUMBER;

PROCEDURE ACCOUNT_TOU_USAGE_FACTORS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE METER_TOU_USAGE_FACTORS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_TOU_USAGE_FACTOR
    (
    p_METER_ID IN NUMBER,
    p_CASE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_TEMPLATE_ID IN NUMBER,
    p_OLD_CASE_ID IN NUMBER,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REMOVE_METER_TOU_USAGE_FACTOR
    (
    p_METER_ID IN NUMBER,
    p_CASE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

FUNCTION INSERT_METER_TOU_USAGE_FACTOR
	(
	p_BEGIN_DATE	IN DATE,
	p_END_DATE		IN DATE,
	p_METER_ID		IN NUMBER,
	p_TEMPLATE_ID	IN NUMBER
	) RETURN NUMBER;

PROCEDURE TOU_USAGE_FACTOR_PERIODS
	(
	p_ACCOUNT_MODEL_OPTION IN VARCHAR2,
	p_TOU_USAGE_FACTOR_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

PROCEDURE PUT_TOU_USG_FACTOR_PERIOD
	(
	p_ACCOUNT_MODEL_OPTION IN VARCHAR2,
	p_TOU_USAGE_FACTOR_ID IN NUMBER,
	p_PERIOD_ID IN NUMBER,
	p_FACTOR_VAL IN NUMBER
	);

-- Return all proxy day method assignments for the specified account.
-- %param p_ACCOUNT_ID	The ID of a retail account
-- %param p_CURSOR		The list of proxy day method assignments
PROCEDURE ACCOUNT_PROXY_DAY_METHODS
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR OUT GA.REFCURSOR
	);

-- Save a proxy day method assignment.
-- %param p_ACCOUNT_ID				The ID of a retail account
-- %param p_PROXY_DAY_METHOD_TYPE	The type of this assignment ¿ Forecast
--									or Backcast
-- %param p_BEGIN_DATE				The start date of the assignment
-- %param p_END_DATE				The end date of the assignment (or
--									NULL)
-- %param p_PROXY_DAY_METHOD_ID		The ID of the proxy day method
-- %param p_OLD_PROXY_DAY_METHOD_TYPE The previous type of this assignment
--									(for changing existing record)
-- %param p_OLD_BEGIN_DATE			The previous start date of this
--									assignment
PROCEDURE PUT_ACCOUNT_PROXY_DAY_METHOD
	(
	p_ACCOUNT_ID IN NUMBER,
	p_PROXY_DAY_METHOD_TYPE IN VARCHAR2,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_PROXY_DAY_METHOD_ID IN NUMBER,
	p_OLD_PROXY_DAY_METHOD_TYPE IN VARCHAR2,
	p_OLD_BEGIN_DATE IN DATE
	);

-- Remove a proxy day method assignment.
-- %param p_ACCOUNT_ID				The ID of a retail account
-- %param p_PROXY_DAY_METHOD_TYPE	The type of this assignment ¿ Forecast
--									or Backcast
-- %param p_BEGIN_DATE				The start date of the assignment
PROCEDURE REMOVE_ACCOUNT_PRXY_DAY_METHOD
	(
	p_ACCOUNT_ID IN NUMBER,
	p_PROXY_DAY_METHOD_TYPE IN VARCHAR2,
	p_BEGIN_DATE IN DATE
	);

PROCEDURE SCHEDULE_GROUP_LIST
	(
	p_METER_TYPE IN VARCHAR2,
	p_ACCOUNT_METER_TYPE IN VARCHAR2,
	p_CURSOR IN OUT GA.REFCURSOR
	);

PROCEDURE ACCOUNT_SUB_AGG_AGGREGATIONS
    (
    p_ACCOUNT_ID IN NUMBER,
    p_CURSOR IN OUT GA.REFCURSOR
    );

PROCEDURE PUT_ACCT_SUB_AGG_AGGREGATION
    (
    p_ACCOUNT_ID IN NUMBER,
    p_AGGREGATE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REM_ACCT_SUB_AGG_AGGREGATION
    (
    p_ACCOUNT_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE METER_SUB_AGG_AGGREGATIONS
    (
    p_METER_ID IN NUMBER,
    p_CURSOR IN OUT GA.REFCURSOR
    );

PROCEDURE PUT_METER_SUB_AGG_AGGREGATION
    (
    p_METER_ID IN NUMBER,
    p_AGGREGATE_ID IN NUMBER,
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_OLD_BEGIN_DATE IN DATE
    );

PROCEDURE REM_METER_SUB_AGG_AGGREGATION
    (
    p_METER_ID IN NUMBER,
    p_BEGIN_DATE IN DATE
    );

PROCEDURE AGGREGATE_LIST
    (
    p_CURSOR IN OUT GA.REFCURSOR
    );

PROCEDURE GET_CONSUMPTION_RECORDS
    (
    p_SEARCH_STRING         IN VARCHAR2,
    p_SEARCH_OPTION         IN VARCHAR2,
    p_INCLUDE_NON_AGG       IN NUMBER,
    p_INCLUDE_AGG           IN NUMBER,
    p_INCLUDE_SUB_AGG       IN NUMBER,
    p_BEGIN_DATE            IN DATE,
    p_END_DATE              IN DATE,
    p_SETTLEMENT_TYPE_ID    IN NUMBER,
    p_EDC_ID                IN NUMBER,
    p_SHOW_EDC_ID           IN NUMBER,
    p_ESP_ID                IN NUMBER,
    p_SHOW_ESP_ID           IN NUMBER,
    p_PSE_ID                IN NUMBER,
    p_SHOW_PSE_ID           IN NUMBER,
    p_POOL_ID               IN NUMBER,
    p_SHOW_POOL_ID          IN NUMBER,
    p_SC_ID                 IN NUMBER,
    p_SHOW_SC_ID            IN NUMBER,
    p_MODEL_ID              IN NUMBER,
    p_SHOW_MODEL_ID         IN NUMBER,
    p_SEARCH_OPTION_NAME    OUT VARCHAR2,
    p_CURSOR                OUT GA.REFCURSOR
    );

PROCEDURE ACTUAL_SETTLEMENT_TYPES
    (
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE AGGREGATION_DETAILS
    (
    p_BEGIN_DATE IN DATE,
    p_END_DATE IN DATE,
    p_MODEL_ID IN NUMBER DEFAULT GA.DEFAULT_MODEL, -- -1 or 1 or 2
    p_SHOW_MODEL_ID IN NUMBER DEFAULT 0,
    p_EDC_ID IN NUMBER := CONSTANTS.ALL_ID, -- -1 or specified EDC Id
    p_SHOW_EDC_ID IN NUMBER := 0,
    p_ESP_ID IN NUMBER := CONSTANTS.ALL_ID, -- -1 or specified ESP Id
    p_SHOW_ESP_ID IN NUMBER := 0,
    p_PSE_ID IN NUMBER := CONSTANTS.ALL_ID, -- -1 or specified PSE id
    p_SHOW_PSE_ID IN NUMBER := 0,
    p_POOL_ID IN NUMBER := CONSTANTS.ALL_ID, -- -1 or specified Pool Id
    p_SHOW_POOL_ID IN NUMBER := 0,
    p_SC_ID IN NUMBER DEFAULT CONSTANTS.ALL_ID, -- -1 or specified Schedule Coordinator Id
    p_SHOW_SC_ID IN NUMBER DEFAULT 0,
    p_AGGREGATE_ACCT_STRING IN VARCHAR2, -- Null or Search String
    p_SUB_AGGREGATE_ACCT_STRING IN VARCHAR2, -- Null or Search String
    p_SUB_AGG_SEARCH_BY IN VARCHAR2, -- By Name, By Alias, By Display Name, By External Identifier
    p_SUB_AGG_SEARCH_OPTION IN OUT VARCHAR2,
    p_CURSOR OUT GA.REFCURSOR
    );

PROCEDURE ACCOUNT_STATUSES_SUBDAILY
    (
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR,
 	p_TIME_ZONE  IN VARCHAR2
	);

PROCEDURE PUT_ACCOUNT_STATUS_SUBDAILY
	(
	p_ACCOUNT_ID     IN NUMBER,
	p_BEGIN_DATE     IN DATE,
	p_END_DATE       IN DATE,
	p_STATUS_NAME    IN VARCHAR2,
	p_OLD_BEGIN_DATE IN DATE,
 	p_TIME_ZONE      IN VARCHAR2
	);

PROCEDURE REM_ACCOUNT_STATUS_SUBDAILY
	(
	p_ACCOUNT_ID IN NUMBER,
	p_BEGIN_DATE IN DATE,
 	p_TIME_ZONE  IN VARCHAR2
	);

PROCEDURE ACCOUNT_ESPS_SUBDAILY
	(
	p_ACCOUNT_ID IN NUMBER,
	p_CURSOR     OUT GA.REFCURSOR,
	p_TIME_ZONE  IN VARCHAR2
	);

PROCEDURE PUT_ACCOUNT_ESP_SUBDAILY
	(
	p_ACCOUNT_ID         IN NUMBER,
	p_ESP_ID             IN NUMBER,
	p_POOL_ID            IN NUMBER,
	p_BEGIN_DATE         IN DATE,
	p_END_DATE           IN DATE,
	p_ESP_ACCOUNT_NUMBER IN VARCHAR2,
	p_OLD_ESP_ID         IN NUMBER,
	p_OLD_POOL_ID        IN NUMBER,
	p_OLD_BEGIN_DATE     IN DATE,
 p_TIME_ZONE          IN VARCHAR2
	);

PROCEDURE REMOVE_ACCOUNT_ESP_SUBDAILY
	(
	p_ACCOUNT_ID IN NUMBER,
	p_ESP_ID     IN NUMBER,
	p_POOL_ID    IN NUMBER,
	p_BEGIN_DATE IN DATE,
 p_TIME_ZONE  IN VARCHAR2
	);
 
PROCEDURE GET_ANCILLARY_SERVICE_DETAIL
    (
    p_SEARCH_STRING         IN VARCHAR2,
    p_SEARCH_OPTION         IN VARCHAR2,
    p_INCLUDE_NON_AGG       IN NUMBER,
    p_INCLUDE_AGG           IN NUMBER,
    p_INCLUDE_SUB_AGG       IN NUMBER,
    p_BEGIN_DATE            IN DATE,
    p_END_DATE              IN DATE,
    p_ANCILLARY_SERVICE_ID  IN NUMBER,
    p_EDC_ID                IN NUMBER,
    p_SHOW_EDC_ID           IN NUMBER,
    p_ESP_ID                IN NUMBER,
    p_SHOW_ESP_ID           IN NUMBER,
    p_PSE_ID                IN NUMBER,
    p_SHOW_PSE_ID           IN NUMBER,
    p_POOL_ID               IN NUMBER,
    p_SHOW_POOL_ID          IN NUMBER,
    p_SC_ID                 IN NUMBER,
    p_SHOW_SC_ID            IN NUMBER,
    p_MODEL_ID              IN NUMBER,
    p_SHOW_MODEL_ID         IN NUMBER,
    p_SEARCH_OPTION_NAME    OUT VARCHAR2,
    p_CURSOR                OUT GA.REFCURSOR
    );

END ACCOUNTS_METERS;
/