CREATE OR REPLACE PACKAGE MM_SEM_CFD_CREDIT IS

  -- Author  : MWEATHERS
  -- Created : 3/3/2008 6:18:38 AM
  -- Purpose : CFD Credit Exposure Package
  -- $Revision: 1.4 $

FUNCTION WHAT_VERSION RETURN VARCHAR;

PROCEDURE FILL_ESTSEM_DAILY
	(
	p_ASSESSMENT_DATE IN DATE
	);

PROCEDURE GET_ESTSEM_SUMMARY_RPT
	(
    p_ASSESSMENT_DATE IN DATE,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_CURSOR IN OUT SYS_REFCURSOR
	);    

PROCEDURE GET_CREDIT_DATE_RANGE_RPT
	(
	p_CONTRACT_IDS IN VARCHAR2,
	p_CONTRACT_TYPE_FILTER IN VARCHAR2,
	p_AGREEMENT_TYPE_FILTER IN VARCHAR2,
	p_COUNTERPARTY_ID_FILTER IN NUMBER,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_LAST_DAY_WITH_SMP_STR OUT VARCHAR2,
	p_CURRENT_ESTSEM_DATE_STR OUT VARCHAR2,
	p_CURRENT_ESTSEMM_DATE_STR OUT VARCHAR2,
	p_CURSOR IN OUT SYS_REFCURSOR
	);

FUNCTION GET_EFF_RATE
	(
	p_AGREEMENT_TYPE IN VARCHAR2,
	p_VALUE IN NUMBER
	) RETURN NUMBER;

PROCEDURE GET_REQUIRED_CREDIT_COVER_RPT
	(
	p_CONTRACT_IDS IN VARCHAR2,
	p_CONTRACT_TYPE_FILTER IN VARCHAR2,
	p_AGREEMENT_TYPE_FILTER IN VARCHAR2,
	p_COUNTERPARTY_ID_FILTER IN NUMBER,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_STATEMENT_TYPE IN NUMBER,
	p_CURSOR IN OUT SYS_REFCURSOR
	);

PROCEDURE GET_INTRA_MONTH_THRESHOLD_RPT
	(
	p_CONTRACT_IDS IN VARCHAR2,
	p_CONTRACT_TYPE_FILTER IN VARCHAR2,
	p_AGREEMENT_TYPE_FILTER IN VARCHAR2,
	p_COUNTERPARTY_ID_FILTER IN NUMBER,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_STATEMENT_TYPE IN NUMBER,
	p_CURSOR IN OUT SYS_REFCURSOR
	);

PROCEDURE PUT_DISPUTE_TEXT
	(
	p_TRANSACTION_ID IN NUMBER,
	p_DISPUTE_REFERENCE_DATE IN DATE,
	p_STATEMENT_TYPE IN NUMBER,
	p_DISPUTE_TEXT IN VARCHAR2
	);

FUNCTION GET_ESTSEM_ASSESSMENT_DATE RETURN DATE;

FUNCTION GET_ESTSEMM_ASSESSMENT_DATE RETURN DATE;

PROCEDURE GET_ACCRUALS_RPT
	(
	p_CONTRACT_IDS IN VARCHAR2,
	p_CONTRACT_TYPE_FILTER IN VARCHAR2,
	p_AGREEMENT_TYPE_FILTER IN VARCHAR2,
	p_COUNTERPARTY_ID_FILTER IN NUMBER,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_STATEMENT_TYPE IN NUMBER,
	p_CURSOR IN OUT SYS_REFCURSOR
	);

PROCEDURE GET_M2M_SUMMARY_RPT
	(
	p_BEGIN_DATE IN DATE,
	p_STATEMENT_TYPE IN NUMBER,
	p_CONTRACT_IDS IN VARCHAR2,
	p_CONTRACT_TYPE_FILTER IN VARCHAR2,
	p_AGREEMENT_TYPE_FILTER IN VARCHAR2,
	p_COUNTERPARTY_ID_FILTER IN NUMBER,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_CURSOR OUT SYS_REFCURSOR
	);

PROCEDURE GET_M2M_DETAIL_RPT
	(
	p_DEAL_TRANSACTION_ID IN NUMBER,
	p_CURSOR OUT SYS_REFCURSOR
	);

PROCEDURE GET_NETTING_AGREEMENT_RPT
	(
	p_CONTRACT_IDS IN VARCHAR2,
	p_CONTRACT_TYPE_FILTER IN VARCHAR2,
	p_AGREEMENT_TYPE_FILTER IN VARCHAR2,
	p_COUNTERPARTY_ID_FILTER IN NUMBER,
	p_CURRENCY_FILTER IN VARCHAR2,
	p_STATEMENT_TYPE IN NUMBER,
	p_VAT_STYLE_FILTER IN VARCHAR2,
	p_CURSOR OUT SYS_REFCURSOR
	);

FUNCTION GET_PRICE
	(
	v_ASSESSMENT_DATE DATE,
	v_MONTH DATE,
	v_PRICE_ID MARKET_PRICE.MARKET_PRICE_ID%TYPE,
	v_PRICE MARKET_PRICE_VALUE.PRICE%TYPE
	)
RETURN NUMBER;

END MM_SEM_CFD_CREDIT;
/