DECLARE
   l_request     soap_api.t_request;
   l_response    soap_api.t_response;
   l_return      VARCHAR2(32767);
   l_url         VARCHAR2(32767);
   l_namespace   VARCHAR2(32767);
   l_method      VARCHAR2(32767);
   l_soap_action VARCHAR2(32767);
   l_result_name VARCHAR2(32767);
   l_payload     VARCHAR2(32767);
   l_result VARCHAR2(32767);
BEGIN
   l_url         := 'http://10.67.95.12:8480/servlet/ExportWS?wsdl'; --'http://10.67.95.58:8090/servlet/ExportWS?wsdl';
   l_namespace   := 'http://webservices.nm.scgo.com';
   l_method      := 'ExportService';
   l_soap_action := 'http://10.67.95.12:8480/ExportService'; --'http://10.67.95.58:8090/ExportService';
   l_result_name := 'RESULT';
   l_request     := soap_api.new_request(p_method    => l_method,
                                         p_namespace => l_namespace);
                                         
   l_payload := 
   'Meter
Daily
***
112,864,UNIT,05/13/2019
1,0.518
2,0.510
3,0.510
4,0.508
5,0.504
6,0.507
7,0.505
8,0.507
9,0.513
10,0.518
11,0.523
12,0.530
13,0.559
14,0.559
15,0.562
16,0.629
17,0.965
18,0.963
19,0.960
20,0.943
21,0.930
22,0.924
23,0.921
24,0.915
***
112,867,UNIT,05/13/2019
1,2.387
2,2.386
3,2.385
4,2.385
5,2.385
6,2.385
7,2.385
8,2.384
9,2.383
10,2.381
11,2.376
12,2.376
13,2.346
14,1.450
15,0.642
16,2.344
17,2.347
18,2.349
19,2.351
20,2.350
21,2.349
22,2.340
23,2.319
24,2.318
***
112,873,UNIT,05/13/2019
1,4.210
2,4.208
3,4.206
4,4.208
5,4.207
6,4.209
7,4.210
8,4.208
9,4.208
10,4.206
11,4.207
12,4.211
13,4.205
14,4.202
15,4.190
16,4.196
17,4.204
18,4.204
19,4.205
20,4.207
21,4.208
22,4.206
23,4.207
24,4.207
***
112,874,UNIT,05/13/2019
1,4.295
2,4.294
3,4.294
4,4.293
5,4.293
6,4.292
7,4.292
8,4.290
9,4.290
10,4.288
11,4.281
12,4.284
13,4.288
14,4.287
15,4.279
16,4.274
17,4.270
18,4.270
19,4.268
20,4.268
21,4.268
22,4.264
23,4.262
24,4.260
***
112,851,UNIT,05/13/2019
1,2.966
2,2.937
3,2.919
4,2.908
5,2.918
6,1.739
7,1.411
8,2.190
9,1.671
10,1.052
11,1.062
12,1.899
13,2.739
14,2.974
15,2.970
16,2.965
17,2.969
18,2.971
19,2.980
20,2.974
21,2.971
22,2.969
23,2.969
24,2.968
***
112,66177,LOAD,05/13/2019
1,0.000
2,0.000
3,0.000
4,0.000
5,0.000
6,0.000
7,0.000
8,0.000
9,0.000
10,0.000
11,0.000
12,0.000
13,0.000
14,0.000
15,0.000
16,0.000
17,0.000
18,0.000
19,0.000
20,0.000
21,0.000
22,0.000
23,0.000
24,0.000
***
112,66176,LOAD,05/13/2019
1,0.000
2,0.000
3,0.000
4,0.000
5,0.000
6,0.000
7,0.000
8,0.000
9,0.000
10,0.000
11,0.000
12,0.000
13,0.000
14,0.000
15,0.000
16,0.000
17,0.000
18,0.000
19,0.000
20,0.000
21,0.000
22,0.000
23,0.000
24,0.000';
   
   soap_api.debug_off;
   l_response := soap_api.invoke(p_request  => l_request,
                                 p_url      => l_url,
                                 p_cluster  => 'PJM',
                                 p_ptcpt_cd => 'PARENT',
                                 p_process  => 'SDBID', -- Submit Demand Bid
                                 p_username => 'nmarket',
                                 p_password => 'nmarket',
                                 p_payload  => l_payload,
                                 p_action   => l_soap_action);

l_return := l_response.doc.getStringVal();  

-- l_return := soap_api.get_return_value(p_response  => l_response,
--                                        p_name      => l_result_name,
--                                        p_namespace => NULL);
dbms_output.put_line('---------------------------------------------');
dbms_output.put_line(l_return);

END;
