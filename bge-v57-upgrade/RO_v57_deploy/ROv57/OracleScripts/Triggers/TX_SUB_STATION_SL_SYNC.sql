CREATE OR REPLACE TRIGGER TX_SUB_STATION_SL_SYNC
	AFTER UPDATE ON TX_SUB_STATION
	FOR EACH ROW
BEGIN
	IF NVL(:NEW.SERVICE_ZONE_ID, CONSTANTS.NULL_ID) != NVL(:OLD.SERVICE_ZONE_ID, CONSTANTS.NULL_ID) THEN

		ACCOUNTS_METERS.g_SRVCE_LOC_USE_TRIGGER := FALSE;

		UPDATE SERVICE_LOCATION
		SET SERVICE_ZONE_ID = :NEW.SERVICE_ZONE_ID
		WHERE SUB_STATION_ID = :NEW.SUB_STATION_ID;

		ACCOUNTS_METERS.g_SRVCE_LOC_USE_TRIGGER := TRUE;

	END IF;

EXCEPTION
	WHEN OTHERS THEN
		ACCOUNTS_METERS.g_SRVCE_LOC_USE_TRIGGER := TRUE;
		ERRS.LOG_AND_RAISE();
		
END TX_SUB_STATION_SL_SYNC;
/
