CREATE OR REPLACE TRIGGER WEATHER_STATION_DELETE
	AFTER DELETE ON WEATHER_STATION
	FOR EACH ROW
BEGIN
	DELETE WEATHER_STATION_COMPOSITE WHERE STATION_ID = :old.STATION_ID;
	DELETE WEATHER_STATION_COMPOSITE WHERE COMPOSITE_STATION_ID = :old.STATION_ID;
	DELETE NOST_DEMAND_STATION_MAPPING WHERE STATION_ID = :old.STATION_ID;
	DELETE NOST_WEATHER_STATION_MAPPING WHERE STATION_ID = :old.STATION_ID;
	DELETE WEATHER_STATION_PARAMETER WHERE STATION_ID = :old.STATION_ID;
	DELETE STATION_PARAMETER_VALUE WHERE STATION_ID = :old.STATION_ID;
	UPDATE SERVICE_LOCATION SET WEATHER_STATION_ID = 0 WHERE WEATHER_STATION_ID = :old.STATION_ID;
	UPDATE LOAD_PROFILE SET PROFILE_STATION_ID = 0 WHERE PROFILE_STATION_ID = :old.STATION_ID;
END WEATHER_STATION_DELETE;
/
