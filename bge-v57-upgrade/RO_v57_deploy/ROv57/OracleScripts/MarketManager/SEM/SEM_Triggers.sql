CREATE OR REPLACE TRIGGER SEM_GP_SETTLEMENT_INSERT_VAR
  AFTER INSERT ON SEM_GP_SETTLEMENT
  FOR EACH ROW
DECLARE
BEGIN
	--Insert Variable Type
	MERGE INTO SEM_GP_SETTLEMENT_SUMM_VAR S
	USING (SELECT :new.REPORT_TYPE AS NEW_REPORT_TYPE,:new.VARIABLE_TYPE AS NEW_VARIABLE_TYPE FROM DUAL) N
  	ON (N.NEW_REPORT_TYPE = S.REPORT_TYPE AND N.NEW_VARIABLE_TYPE = S.VARIABLE_TYPE)
  	WHEN NOT MATCHED THEN INSERT(REPORT_TYPE, VARIABLE_TYPE) 
    	VALUES (N.NEW_REPORT_TYPE, N.NEW_VARIABLE_TYPE);

END SEM_GP_SETTLEMENT_INSERT_VAR;
/

CREATE OR REPLACE TRIGGER SEM_GP_SETTLEMENT_INSERT_RES
  AFTER INSERT ON SEM_GP_SETTLEMENT
  FOR EACH ROW
DECLARE
BEGIN
	--Insert Resource Name
	MERGE INTO SEM_GP_SETTLEMENT_SUMM_RES S
	USING (SELECT :new.RESOURCE_NAME AS NEW_RESOURCE_NAME FROM DUAL) N
  	ON (N.NEW_RESOURCE_NAME = S.RESOURCE_NAME)
  	WHEN NOT MATCHED THEN INSERT(RESOURCE_NAME) 
    	VALUES (N.NEW_RESOURCE_NAME);

END SEM_GP_SETTLEMENT_INSERT_RES;
/

CREATE OR REPLACE TRIGGER SEM_MP_INFO_INSERT_VAR
  AFTER INSERT ON SEM_MP_INFO  
  FOR EACH ROW
BEGIN
	MERGE INTO SEM_PIR_VARIABLES S
	USING (SELECT :new.VARIABLE_TYPE AS NEW_VARIABLE_TYPE FROM DUAL) N
  	ON (N.NEW_VARIABLE_TYPE = S.VARIABLE_TYPE)
  	WHEN NOT MATCHED THEN INSERT(VARIABLE_TYPE)
    	VALUES (N.NEW_VARIABLE_TYPE);  
END SEM_MP_INFO_INSERT_VAR;
/
