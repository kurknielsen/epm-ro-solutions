DECLARE
	v_ID NUMBER(9);
BEGIN

	--Create the Entity Attributes that do not exist.
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_RESOURCE_TYPE, EC.ED_SERVICE_POINT, 'String', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_IS_PUMPED_STORAGE, EC.ED_SERVICE_POINT, 'Boolean', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_IS_ENERGY_LIMITED, EC.ED_SERVICE_POINT, 'Boolean', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_IS_NETTING_GEN, EC.ED_SERVICE_POINT, 'Boolean', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_IS_BLOCK_LOAD_GEN, EC.ED_SERVICE_POINT, 'Boolean', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_PSE_CURRENCY, EC.ED_PSE, 'String', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_PSE_JURISDICTION, EC.ED_PSE, 'String', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_NI_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_NI_GEN_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_NI_MO_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_ROI_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_ROI_GEN_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_ROI_MO_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
    ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_NI_CB_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
    ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_NI_GEN_CB_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
    ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_ROI_CB_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
    ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_ROI_GEN_CB_TAX_RATE, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_ROI_RMVIP, EC.ED_SC, 'Number', TRUE, v_ID);
	ID.ID_FOR_ENTITY_ATTRIBUTE(MM_SEM_UTIL.g_EA_NI_RMVIP, EC.ED_SC, 'Number', TRUE, v_ID);
	
	--Add Entity Attribute for VAT Jurisdiction. 
	ID.ID_FOR_ENTITY_ATTRIBUTE('VAT Jurisdiction', EC.ED_PSE, 'String', TRUE, v_ID);
	FOR v_PSE IN (SELECT PSE_ID, PSE_ALIAS FROM PSE WHERE PSE_ALIAS LIKE 'PT%') LOOP
        IF RO.GET_ENTITY_ATTRIBUTE('VAT Jurisdiction', EC.ED_PSE, v_PSE.PSE_ID, DATE'2012-10-22') IS NULL THEN
            IF v_PSE.PSE_ALIAS LIKE 'PT_4%' THEN 
				RO.PUT_ENTITY_ATTRIBUTE('VAT Jurisdiction', EC.ED_PSE, v_PSE.PSE_ID, 'String', 'ROI');
			ELSIF v_PSE.PSE_ALIAS LIKE 'PT_5%' THEN
				RO.PUT_ENTITY_ATTRIBUTE('VAT Jurisdiction', EC.ED_PSE, v_PSE.PSE_ID, 'String', 'UK');
			END IF;
        END IF;
    END LOOP;
	
	COMMIT;
END;
/