CREATE OR REPLACE PACKAGE MM_PJM_EMKT IS
    -- Author  : JCOOPER
    -- Created : 7/15/2004 12:56:11 PM
    -- Purpose : Handle all eMKT interactions with MarketManager
	-- $Revision: 1.41 $

	g_DATE_FORMAT CONSTANT VARCHAR2(16) := 'YYYY-MM-DD';
    g_DATE_TIME_FORMAT CONSTANT VARCHAR2(32) := 'yyyy-mm-dd"T"hh24:mi:ss';
    g_PJM_EMKT_NAMESPACE CONSTANT VARCHAR2(64) := 'xmlns="http://emkt.pjm.com/emkt/xml"';
    g_PJM_EMKT_NAMESPACE_NAME CONSTANT VARCHAR2(64) := 'http://emkt.pjm.com/emkt/xml';
    g_INIT_VAL_VARCHAR CONSTANT VARCHAR2(16) := '<INITVAL>';

TYPE REF_CURSOR IS REF CURSOR;

FUNCTION WHAT_VERSION
   RETURN VARCHAR;

PROCEDURE MARKET_SUBMIT_TRANSACTION_LIST
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EXCHANGE_TYPE IN VARCHAR2,
	p_STATUS OUT NUMBER,
	p_CURSOR IN OUT REF_CURSOR);

PROCEDURE SYSTEM_ACTION_USES_HOURS
	(
    p_ACTION IN VARCHAR2,
	p_SHOW_HOURS OUT NUMBER
    );

PROCEDURE MARKET_SUBMIT(p_BEGIN_DATE IN DATE,
	p_END_DATE 			IN DATE,
	p_EXCHANGE_TYPE 	IN VARCHAR2,
	p_LOG_ONLY 			IN NUMBER := 0,
	p_ENTITY_LIST       IN VARCHAR2,
	p_ENTITY_LIST_DELIMITER 	IN CHAR,
    p_SUBMIT_HOURS   	IN VARCHAR2,
    p_TIME_ZONE       	IN VARCHAR2,
	p_LOG_TYPE			IN NUMBER,
	p_TRACE_ON			IN NUMBER,
	p_STATUS            OUT NUMBER,
	p_MESSAGE           OUT VARCHAR2);

PROCEDURE MARKET_EXCHANGE_ENTITY_LIST
	(
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_EXCHANGE_TYPE IN VARCHAR,
	p_ENTITY_LABEL OUT VARCHAR2,
	p_STATUS OUT NUMBER,
	p_CURSOR OUT REF_CURSOR
	);

PROCEDURE MARKET_EXCHANGE
	(
	p_BEGIN_DATE            	IN DATE,
	p_END_DATE              	IN DATE,
	p_EXCHANGE_TYPE  			IN VARCHAR2,
	p_ENTITY_LIST           	IN VARCHAR2,
	p_ENTITY_LIST_DELIMITER 	IN CHAR,
	p_LOG_ONLY					IN NUMBER :=0,
	p_LOG_TYPE 					IN NUMBER,
	p_TRACE_ON 					IN NUMBER,
	p_STATUS                	OUT NUMBER,
	p_MESSAGE               	OUT VARCHAR2);

PROCEDURE QUERY_ALL_BIDS_OF_TYPE
	(
	p_BID_TYPE IN VARCHAR2,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_SCHEDULE_STATE IN NUMBER,
	p_LOG_ONLY IN NUMBER,
	p_LOG_TYPE IN NUMBER,
	p_TRACE_ON IN NUMBER,
	p_STATUS OUT NUMBER,
	p_MESSAGE OUT VARCHAR2
	);

PROCEDURE PJM_PNODES_RPT
	(
	p_MODEL_ID IN NUMBER,
	p_SCHEDULE_TYPE IN NUMBER,
	p_BEGIN_DATE IN DATE,
	p_END_DATE IN DATE,
	p_AS_OF_DATE IN DATE,
	p_TIME_ZONE IN VARCHAR2,
	p_NOTUSED_ID1 IN NUMBER,
	p_NOTUSED_ID2 IN NUMBER,
	p_NOTUSED_ID3 IN NUMBER,
	p_REPORT_NAME IN VARCHAR2,
	p_NODE_TYPE IN VARCHAR2,
	p_STATUS OUT NUMBER,
	p_CURSOR IN OUT REF_CURSOR
	);

PROCEDURE PUT_PJM_PNODES_RPT
	(
	p_NODENAME IN VARCHAR2,
	p_NODETYPE IN VARCHAR2,
	p_PNODEID IN VARCHAR2,
	p_ADD_SVC_POINT IN NUMBER,
	p_STATUS OUT NUMBER
	);

PROCEDURE GEN_NAMES_RPT
	(
	p_STATUS        OUT NUMBER,
	p_CURSOR        IN OUT REF_CURSOR
	);

PROCEDURE PUT_GEN_NAMES_RPT
	(
	p_RESOURCE_ID IN VARCHAR2,
	p_RESOURCE_NAME IN VARCHAR2,
	p_PJM_CID IN VARCHAR2,
	p_SERVICE_POINT_ID IN VARCHAR2,
	p_OLD_RESOURCE_ID IN VARCHAR2,
	p_OLD_RESOURCE_NAME IN VARCHAR2,
	p_OLD_PJM_CID IN VARCHAR2,
	p_OLD_SERVICE_POINT_ID IN VARCHAR2,
	p_STATUS OUT NUMBER
	);


-- Exchange Types
g_ET_QUERY_PORTFOLIOS 		VARCHAR2(50):= 'Query Portfolios';
g_ET_QUERY_SCHEDULE_OFFER 	VARCHAR2(50)	:= 'Query Schedule Offer';
g_ET_QUERY_SCHEDULE_DETAIL 	VARCHAR2(50)	:= 'Query Schedule Detail';
g_ET_QUERY_SCHEDULE_SELECTION 	VARCHAR2(50):= 'Query Schedule Selection';
g_ET_QUERY_ANC_SRV_MRKT_PRICES VARCHAR2(50):= 'Query Ancillary Service Market Prices';
g_ET_QUERY_MARKET_RESULTS 	VARCHAR2(50)	:= 'Query Market Results';
g_ET_QUERY_UNIT_DETAIL  	VARCHAR2(50)	:= 'Query Unit Detail';
g_ET_QUERY_UNIT_SCHEDULE 	VARCHAR2(50)	:= 'Query Unit Schedule';
g_ET_QUERY_UNIT_UPDATE 		VARCHAR2(50):= 'Query Unit Update';
g_ET_QUERY_DEMAND_SUMMARY 	VARCHAR2(50)	:= 'Query Demand Summary';
g_ET_QUERY_DEMAND_BIDS 		VARCHAR2(50):= 'Query Demand Bids';
g_ET_QUERY_FIXED_DEMAND_BID VARCHAR2(50):= 'Query Fixed Demand Bid (MG)';
g_ET_QUERY_DEMAND_BIDS_INTERN VARCHAR2(50)	:= 'Query Demand Bids To Internal';
g_ET_QUERY_DAY_AHEAD_LMPS 	VARCHAR2(50)	:= 'Query Day-Ahead LMPS';
g_ET_QUERY_REGULATION_OFFERS 	VARCHAR2(50):= 'Query Regulation Offers';
g_ET_QUERY_SPIN_RESERVE_OFFERS VARCHAR2(50)	:= 'Query Spinning Reserve Offers';
g_ET_SUBMIT_DISTRIB_FACTORS VARCHAR2(50)	:= 'Submit Distribution Factors';
g_ET_QUERY_NODE_LIST 		VARCHAR2(50):= 'Query Node List';
g_ET_QUERY_BID_NODE_LIST 	VARCHAR2(50)	:= 'Query Bid Node List';
g_ET_QUERY_SPREG_AWARDS 	VARCHAR2(50)	:= 'Query SPREG Awards';
g_ET_QUERY_MESSAGES 		VARCHAR2(50)	:= 'Query Messages';
g_ET_QUERY_PARAM_LIMITS 	VARCHAR2(50)	:= 'Query Unit Parameter Limits';
g_ET_QUERY_PARAM_LIMITS_INTERN 	VARCHAR2(50)	:= 'Query Unit Parameter Limits To Internal';

g_ET_INCREMENT_OFFER VARCHAR2(20) := 'Increment Offer';
g_ET_DECREMENT_BID VARCHAR2(20) := 'Decrement Bid';
g_ET_PRICE_SENSIT_DEMAND_BID VARCHAR2(40) := 'Price-Sensitive Demand Bid';
g_ET_FIXED_DEMAND_BID VARCHAR2(40) := 'Fixed Demand Bid';
g_ET_SUBMIT_FIXED_DEMAND_BID VARCHAR2(40) := 'Submit Fixed Demand Bid (MG)';


END MM_PJM_EMKT;
/