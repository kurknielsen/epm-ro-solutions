CREATE OR REPLACE FUNCTION START_BACKGROUND_JOB
	(
	p_PLSQL IN VARCHAR2,
	p_RUN_WHEN IN TIMESTAMP WITH TIME ZONE := NULL,
	p_JOB_CLASS IN VARCHAR2 := 'DEFAULT_JOB_CLASS',
	p_COMMENTS IN VARCHAR2 := NULL,
	p_NOTIFICATION_EMAIL_ADDRESS IN VARCHAR2 := NULL,
	p_WAIT_FOR_JOB_TO_START IN NUMBER := NULL
	) RETURN VARCHAR2 AS
v_JOB_DATA JOB_DATA%ROWTYPE;
BEGIN
	-- JOB_DATA will have a null USER_ID, this defaults to CURRENT_USER_ID inside SECURITY_CONTROLS
	v_JOB_DATA.NOTIFICATION_EMAIL_ADDRESS := p_NOTIFICATION_EMAIL_ADDRESS;
	
	RETURN SECURITY_CONTROLS.START_BACKGROUND_JOB(p_PLSQL,
												  p_RUN_WHEN,
												  p_JOB_CLASS,
												  p_COMMENTS,
												  v_JOB_DATA,
												  p_WAIT_FOR_JOB_TO_START);
END START_BACKGROUND_JOB;
/
